const API_URL="https://api.bluelytics.com.ar/v2/latest";let oficialValue=null;const priceInput=document.getElementById("price"),provInput=document.getElementById("province"),regionalcontainer=document.getElementById("regcont");async function obtenerValorOficial(){try{let e=await fetch("https://api.bluelytics.com.ar/v2/latest"),t=await e.json();oficialValue=t.oficial.value_sell}catch(n){console.error("Error:",n)}}async function calculate(){try{null===oficialValue&&await obtenerValorOficial();let e=parseFloat(priceInput.value),t=e*oficialValue,n=0;switch(provInput.value){case"caba":case"pba":n=.02*t,document.getElementById("regionalimp").textContent="Ingresos Brutos CABA (AGIP RG 312/2019)";break;case"cdba":case"ttff":n=.03*t,document.getElementById("regionalimp").textContent="Ingresos Brutos CORDOBA (Decreto 774/2018)";break;case"lppa":n=.01*t,document.getElementById("regionalimp").textContent="Ingresos Brutos LA PAMPA (RG 14/2019 (Anexo II)";break;case"rrnn":n=.05*t,document.getElementById("regionalimp").textContent="Ingresos Brutos RIO NEGRO (RG 808/2020)";break;case"salt":n=.036*t,document.getElementById("regionalimp").textContent="Ingresos Brutos SALTA (RG 34/2018)";break;case"chac":n=.055*t,document.getElementById("regionalimp").textContent="Ingresos Brutos CHACO (RG 2046/2020)";break;case"neuq":n=.04*t,document.getElementById("regionalimp").textContent="Ingresos Brutos NEUQUEN (RG 1/2022)";break;case"none":document.getElementById("regcont").classList.add("hidden"),n=0}0===n?regionalcontainer.classList.add("hidden"):regionalcontainer.classList.remove("hidden");let a=.3*t,l=.3*t,o=t+a+l+n;document.getElementById("pesosResult").value=t.toFixed(2),document.getElementById("impaisResult").value=a.toFixed(2),document.getElementById("gananciasResult").value=l.toFixed(2),document.getElementById("regionalResult").value=n.toFixed(2),document.getElementById("totalResult").value=o.toFixed(2)}catch(r){console.error("Error:",r)}}document.addEventListener("DOMContentLoaded",function(){let e=document.querySelectorAll('a[href^="#"]');e.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault();let t=this.getAttribute("href").substring(1),n=document.getElementById(t);n&&n.scrollIntoView({behavior:"smooth"})})}),priceInput.addEventListener("input",calculate),provInput.addEventListener("change",calculate),calculate()});
